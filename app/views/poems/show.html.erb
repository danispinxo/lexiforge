<div style="margin-bottom: 20px;">
  <%= link_to "← Back to Poems", poems_path, style: "text-decoration: none; color: #666;" %>
</div>

<div style="margin-bottom: 30px;">
  <h1 style="margin-bottom: 10px;"><%= @poem.title %></h1>
  
  <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
      <div>
        <strong>Source Text:</strong><br>
        <%= link_to @source_text.title, source_text_path(@source_text), 
            style: "color: #007bff; text-decoration: none;" %>
        <% if @source_text.gutenberg_id.present? %>
          <small style="color: #666;">(Project Gutenberg #<%= @source_text.gutenberg_id %>)</small>
        <% end %>
      </div>
      
      <div>
        <strong>Technique:</strong><br>
        <span style="background-color: #007bff; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">
          <%= @poem.technique_used.titleize %>
        </span>
      </div>
      
      <div>
        <strong>Generated:</strong><br>
        <%= @poem.created_date %>
      </div>
      
      <div>
        <strong>Statistics:</strong><br>
        <%= @poem.word_count %> words • <%= @poem.line_count %> lines
      </div>
    </div>
  </div>
</div>

<div style="background-color: white; border: 1px solid #ddd; border-radius: 8px; padding: 30px; margin-bottom: 20px;">
  <div style="font-family: Georgia, serif; font-size: 18px; line-height: 1.8; color: #333;">
    <%= simple_format(@poem.content) %>
  </div>
</div>

<div style="display: flex; gap: 15px; margin-bottom: 30px;">
  <%= link_to "Edit Poem", edit_poem_path(@poem), 
      style: "background-color: #ffc107; color: black; padding: 10px 20px; text-decoration: none; border-radius: 4px;" %>
  
  <%= link_to "Generate Another", generate_cut_up_source_text_path(@source_text), 
      style: "background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;" %>
  
  <%= link_to "Delete Poem", poem_path(@poem), method: :delete,
      data: { confirm: "Are you sure you want to delete this poem?" },
      style: "background-color: #dc3545; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;" %>
</div>

<div style="background-color: #e9ecef; padding: 20px; border-radius: 5px;">
  <h4>About Cut-Up Poetry</h4>
  <p style="margin: 0; font-size: 14px; line-height: 1.6; color: #666;">
    This poem was generated using the cut-up technique, a literary method pioneered by 
    <strong>William S. Burroughs</strong> and <strong>Brion Gysin</strong>. The original text 
    from "<%= @source_text.title %>" was automatically segmented and rearranged to create 
    unexpected juxtapositions and reveal hidden meanings. Each generation produces a unique 
    result, making this a one-of-a-kind composition.
  </p>
</div>
