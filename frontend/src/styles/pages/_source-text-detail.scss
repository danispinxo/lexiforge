@use "sass:color";
@use "../variables";
@use "../mixins";

.source-text-detail {
  .header .actions {
    display: flex;
    gap: variables.$spacing-md;
    align-items: center;

    .btn {
      display: inline-flex !important;
      align-items: center;
      justify-content: center;
      height: 40px;
      padding: variables.$spacing-sm variables.$spacing-lg !important;
      font-size: variables.$font-size-sm !important;
      font-weight: variables.$weight-medium !important;
      line-height: 1 !important;
      text-decoration: none;
      white-space: nowrap;
      box-sizing: border-box !important;
      border-width: 1px !important;
    }
  }

  .content {
    margin-top: variables.$spacing-xl;

    h3 {
      color: variables.$text-primary;
      margin-bottom: variables.$spacing-lg;
    }

    .text-content {
      @include mixins.manuscript-style;
      color: variables.$ink-blue;
      background: variables.$paper-bg;
      padding: variables.$spacing-xl variables.$spacing-xl variables.$spacing-xl 120px;
      margin-left: 0;
      position: relative;

      &::before {
        content: "";
        position: absolute;
        left: 80px;
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(
          to bottom,
          transparent 0%,
          rgba(variables.$accent-color, 0.3) 10%,
          rgba(variables.$accent-color, 0.3) 90%,
          transparent 100%
        );
      }

      &::after {
        content: "";
        position: absolute;
        left: 78px;
        top: 0;
        bottom: 0;
        width: 1px;
        background: rgba(variables.$accent-color, 0.6);
      }

      p {
        color: variables.$ink-blue;
        margin-bottom: variables.$spacing-md;
        line-height: 1.7;
        text-align: justify;
        text-indent: variables.$spacing-lg;

        &:first-child {
          text-indent: 0;
        }
      }

      .truncated {
        color: rgba(variables.$ink-blue, 0.6);
        font-style: italic;
        text-align: center;
        margin-top: variables.$spacing-lg;
        padding-top: variables.$spacing-md;
        border-top: 1px solid rgba(variables.$ink-blue, 0.2);
        text-indent: 0;
      }
    }
  }

  .text-info {
    h1 {
      color: variables.$text-primary;
    }

    .metadata {
      .word-count,
      .gutenberg-id,
      .poems-count {
        @include mixins.library-label;
        background: rgba(variables.$medium-gray, 0.2);
        color: variables.$text-secondary;
        border-color: rgba(variables.$medium-gray, 0.3);
      }
    }
  }

  .message {
    &.success {
      background: rgba(variables.$library-green, 0.1);
      color: color.adjust(variables.$library-green, $lightness: 20%);
      border-left-color: variables.$library-green;
    }

    &.error {
      background: rgba(variables.$accent-color, 0.1);
      color: color.adjust(variables.$accent-color, $lightness: 20%);
      border-left-color: variables.$accent-color;
    }
  }
}

@include mixins.mobile {
  .source-text-detail .content .text-content {
    padding: variables.$spacing-lg variables.$spacing-md variables.$spacing-lg 60px;

    &::before {
      left: 40px;
    }

    &::after {
      left: 38px;
    }
  }
}
